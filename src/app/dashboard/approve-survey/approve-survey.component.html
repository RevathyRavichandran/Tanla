<div style="background-color: white;">
    <h1 style="padding-left: 1%; padding-top: 1%; font-weight: bold;">
        Approve Survey
        <span style="right: 0; position: absolute; margin-right: 1rem">
      <!-- <button
        type="button"
        class="btn surveyCreate"
        (click)="createSurvey()"
        style="background: #1e7eae; color: white"
      >
        View Survey&nbsp;
        <i class="fa fa-file fa-1x"></i>
      </button> -->
    </span>
    </h1>
    <mat-divider class="mt-3"></mat-divider>
</div>
<div class="row" style="padding: 1%">
    <div class="col-lg-12" *ngIf="noRecords">
        <mat-card>
            <div style="text-align: center">
                <img style="height: 300px; width: 300px" src="assets/no_files_records_256.png" alt="" />
            </div>
            <div style="text-align: center">
                <h1 style="color: #1e7eae">No Records Found</h1>
            </div>
        </mat-card>
    </div>
    <div class="col-lg-12" *ngIf="!noRecords">
        <div class="row" style="padding: 1%">
            <div class="col-lg-12">
                <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">


                    <ng-container matColumnDef="id">
                        <th class="sno" [attr.rowspan]="2" mat-header-cell *matHeaderCellDef>S/N</th>
                        <td mat-cell *matCellDef="let element">{{ element.id }}</td>
                    </ng-container>
                    <ng-container matColumnDef="surveyType">
                        <th mat-header-cell [attr.rowspan]="2" class="text-center" *matHeaderCellDef>Survey Type</th>
                        <td mat-cell *matCellDef="let element">
                            c-sat
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="surveyName">
                        <th mat-header-cell [attr.rowspan]="2" class="text-center" *matHeaderCellDef>Survey Name</th>
                        <td mat-cell *matCellDef="let element">
                            {{ element.surveyName }}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="catagoryName">
                        <th [attr.rowspan]="2" mat-header-cell class="text-center" *matHeaderCellDef>Category</th>
                        <td mat-cell *matCellDef="let element">
                            {{ element.catagoryName }}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="createdBy">
                        <th mat-header-cell [attr.rowspan]="2" class="text-center" *matHeaderCellDef>Created By</th>
                        <td mat-cell *matCellDef="let element">
                            User12
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="header-row-second-group">
                        <th mat-header-cell class="text-center" *matHeaderCellDef [attr.colspan]="2">Survey period</th>
                        
                      </ng-container>
                    <ng-container matColumnDef="surveyFromDate">
                        <th mat-header-cell class="text-center" *matHeaderCellDef>From</th>
                        <td mat-cell class="text-center" *matCellDef="let element">
                            {{ element.fromDate }}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="surveyToDate">
                        <th mat-header-cell class="text-center" *matHeaderCellDef>To</th>
                        <td mat-cell class="text-center" *matCellDef="let element">
                           {{ element.toDate }}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="approve">
                        <th [attr.rowspan]="2" class="text-center" mat-header-cell *matHeaderCellDef>Approve/Reject</th>
                        <td mat-cell class="text-center" *matCellDef="let element">
                            <span *ngIf="element.surveyStatus == '2'">Approved</span>
                            <span *ngIf="element.surveyStatus == '3'">Rejected &nbsp;<i [matTooltip]="element.reason" matTooltipPosition="right" class="fa
                                fa-info-circle" aria-hidden="true"></i></span>
                            <span *ngIf="element.surveyStatus == '1'" >
                              <input type="radio" id="approve" value="approve" (change)="changeGender($event, element.surveyName)"> Approve  
                            </span>
                            <span *ngIf="element.surveyStatus == '1'">
                                <input type="radio" id="reject" value="reject" (change)="changeGender($event, element.surveyName)"> Reject
                            </span>
                            
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="reject">
                        <th [attr.rowspan]="2" class="text-center" mat-header-cell *matHeaderCellDef>View Survey</th>
                        <td mat-cell class="text-center" *matCellDef="let element">
                            <button
                            mat-raised-button
                            (click)="createSurvey(element.id)"
                            style="background: #1e7eae; color: white"
                          >
                            View Survey
                          </button>
                        </td>
                    </ng-container>
                    
                    
                      <tr mat-header-row *matHeaderRowDef="['id', 'surveyType', 'surveyName', 'catagoryName', 'createdBy', 'header-row-second-group', 'approve', 'reject']"></tr>
                      <tr mat-header-row *matHeaderRowDef="['surveyFromDate', 'surveyToDate']"></tr>
                    <tr mat-row *matRowDef="let row; columns: ['id', 'surveyType', 'surveyName', 'catagoryName', 'createdBy', 'surveyFromDate', 'surveyToDate', 'approve', 'reject']"></tr>
                </table>
            </div>
        </div>
    </div>
</div>
<ngb-pagination
      [collectionSize]="totalPages"
      [(page)]="currentPage"
      [maxSize]="2"
      [boundaryLinks]="true"
      [pageSize]="pageSize"
      (pageChange)="pageChanged(currentPage)"
      class="d-flex justify-content-center"
    ></ngb-pagination>